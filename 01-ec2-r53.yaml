  - name: "creating ec2 and route 53 records"
    hosts: local
    connection: local
    become : yes
    vars: 
      AMI_ID: ami-09c813fb71547fc4f
      SG_ID: sg-0494b89cb6d5db382
      ZONE_ID: "Z01261487TFX8V684K99"
      DOMAIN_NAME: "saws86s.fun"
       # we can pass instances through command line using -e
    # instances: 
    # - mongodb
    # - redis
    # - mysql
    # - rabbitmq
    tasks:
     - name: create ec2 instance
       amazon.aws.ec2_instance:
         name: "{{ item }}"
         instance_type: t3.micro
         security_group: "{{ sg_id }}"
         image_id: "{{ ami_id }}"
         tags:
           Name: "{{ item }}"
       loop: "{{ instances }}"
       register: ec2_output

     - name: print the ec2_output
       ansible.builtin.debug:
         msg: "{{ ec2_output }}"

